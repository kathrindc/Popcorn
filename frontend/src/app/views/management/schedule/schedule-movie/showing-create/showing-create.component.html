<section *ngIf="hasRole(['manager', 'admin'])">
  <section class="header">
    <button mat-icon-button (click)="back()">
      <mat-icon>arrow_back</mat-icon>
    </button>
    <h1 class="right">Create Showing:</h1>
  </section>

  <ng-container *ngIf="theaters">
    <form [formGroup]="showingForm" (ngSubmit)="onSubmit()" class="movie-form">
      <mat-form-field class="form-field">
        <mat-label>Select Theater:</mat-label>
        <mat-select formControlName="theater">
          <mat-option *ngFor="let theater of theaters.records" [value]="theater.id">{{theater.name}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="form-field">
        <mat-label>From:</mat-label>
        <input matInput [matDatepicker]="startPicker" formControlName="start">
        <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
        <mat-datepicker #startPicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field class="form-field">
        <mat-label>To:</mat-label>
        <input matInput [matDatepicker]="endPicker" formControlName="end">
        <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
        <mat-datepicker #endPicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field class="form-field">
        <mat-label>Time:</mat-label>
        <input matInput formControlName="startTimeHours" placeholder="HH" maxlength="2" pattern="[0-9]*" min="0" max="23" step="1" style="width: 50px; margin: 0 5px;">
        <span>:</span>
        <input matInput formControlName="startTimeMinutes" placeholder="MM" maxlength="2" pattern="(0|1|2|3|4|5)[0-9]" min="0" max="59" step="15" style="width: 50px; margin: 0 5px;">
      </mat-form-field>

      <div class="days-of-week form-field" formGroupName="daysOfWeek">
        <div *ngFor="let day of daysOfWeek">
          <mat-checkbox  class="checkbox-label" [formControlName]="day">{{day}}</mat-checkbox>
        </div>
      </div>

      <button mat-raised-button color="primary" type="submit">Submit</button>
    </form>


  </ng-container>

</section>
